---
layout: post-index
permalink: /categories/
title: Category Archive
description: "An archive of posts sorted by category."
image:
  feature: background.jpg
---


lets test.
<ul class="entry-meta inline-list">
{% assign categories_list = site.categories %}  
  {% if categories_list.first[0] == null %}
    {% for cat in categories_list %} 
        <li><a href="#{{ cat }}" class="category">{{ cat }} <span>{{ site.categories[cat].size }}</span></a></li>
    {% endfor %}
  {% else %}
    {% for cate in categories_list %}
        <li><a href="#{{ cate[0] }}" class="category">{{ cat[0] }} <span>{{ cat[1].size }}</span></a></li>
    {% endfor %}
  {% endif %}
{% assign tags_list = nil %}
</ul>

{% for cat in site.categories %}  {{ cat[0] }} ({{ cat[1].size }}) {% endfor %}
{% for cat in site.categories %}
{{ cat[0] }}
{% for post in cat[1] %}
{{ post.date | date:"%Y-%m-%d" }} {{ post.title }}
{% endfor %} {% endfor %}


{% for post in site.posts %}
    {% if post.categories contains "PeppyPapers" %}
    say sth.
    {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
    {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}

  	{% if forloop.first %}
    <article>
      <h2 id="{{ this_year }}-ref">{{ this_year }}</h2>
      <ul>
    {% endif %}

        <li class="entry-title"><a href="{{ site.url }}{{ post.url }}" title="{{ post.title }}">{{ post.title }}</a></li>

    {% if forloop.last %}
      </ul>
    </article>
    {% else %}
        {% if this_year != next_year %}
          </ul>
        </article>
        <article>
          <h2 id="{{ next_year }}-ref">{{next_year}}</h2>
          <ul>
        {% endif %}
    {% endif %}
    {% endif %}
{% endfor %}
